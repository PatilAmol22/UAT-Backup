<!--********************************************************************************************
* Name			    : grz_CaseListCmp.html
* Description	    : LWC to display Case List for Customer Community
* Apex Controller	: grz_CaseListClass 
* LastModefied Date	: 28/07/2022 
* Created By	    : Nikhil Verma (Grazitti)
* **********************************************************************************************-->
<template>
    <!-- ********************For India Case List *******************-->
    <template if:true={isInd}>
        <!-- <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
           <header class="slds-modal__header" style="border: solid 1px black;">
               <h1><b>Notification</b></h1>
               </header>
               <div class="slds-modal__content slds-p-around--medium" style="border: solid 1px black;">
            <center><h2><b>Community is under maintenance and will be up tentatively by 20/1/2023</b></h2></center>
        </div>
        </div>
        </div> -->
        <c-grz_header-image-cmp bgimg={backgroundimage} imglabel="Cases" customcss='top: 9%;'></c-grz_header-image-cmp>
        <div class="slds-p-top_small">
            <c-grz_bread-crumb labelone='Cases' linkone=''>
            </c-grz_bread-crumb>
        </div>
        <div class="slds-grid slds-wrap div1padding componentNotoSansBold">
            <div class="slds-col slds-size_4-of-12">
                <b class="textCls">My Cases</b>
            </div>
            <div class="slds-col slds-size_8-of-12">
                <a class="" onclick={handleButtonClick} href={caseCreatePageLink} target="_blank">
                    <button class="slds-button slds-button_neutral slds-float_right blueBtn">Create a New Case</button>
                </a>
            </div>
        </div>
        <div>
            <div class="slds-border_right slds-m-bottom_medium slds-border_left slds-border_bottom slds-p-right_large slds-border_top slds-medium-size--6-of-6 slds-small-size--6-of-6 maindivcss">
                <div class="slds-grid slds-wrap slds-p-top_xx-small slds-p-bottom_xx-small">
                    <div class="slds-col slds-grid slds-x-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_6-of-12">
                        <span class="setwidth">
                            <span>
                                <lightning-input variant="label-hidden" onkeypress={handleKeyChange}
                                    class="slds-col slds-m-bottom_small" placeholder="Search by Case Number..."
                                    value={searchKey}>
                                </lightning-input>
                            </span>
                            <span if:true={searchKey}
                                class="pointerClass">
                                <lightning-icon size="x-small" icon-name="utility:close" onclick={clearClick}>
                                </lightning-icon>
                            </span>
                        </span>
                        <div class="slds-col slds-p-left_x-small">
                            <button class="slds-button slds-button_brand slds-button_icon slds-button_icon-border-filled "
                                onclick={buttonClick}>
                                <lightning-icon icon-name="utility:search" size="x-small" class=""></lightning-icon>
                            </button>
                        </div>
                    </div>
                    <!-- <div class="slds-col slds-x-small-size_12-of-12 slds-medium-size_5-of-12 slds-large-size_5-of-12">        
                        <lightning-combobox value={datevalue} placeholder="Sort By" options={dateoptions} onchange={handleDate}>
                        </lightning-combobox>
                        <lightning-combobox class="comboboxfloat" variant="label-hidden" value={statusvalue} placeholder="Filter By Status" options={statusoptions} onchange={handleStatus}>
                        </lightning-combobox>
                    </div> -->
                    <div class="slds-col slds-grid slds-x-small-size_12-of-12 slds-medium-size_3-of-12 slds-large-size_3-of-12">
                        <div class="btnclass">
                            <lightning-combobox variant = "label-hidden" value={value} placeholder="Sort By" options={options} onchange={handleDate}>
                            </lightning-combobox>
                        </div>
                        <!-- <div class="btnclass">
                            <lightning-combobox variant= "label-hidden" value={statusvalue} placeholder="Filter By Status" options={statusoptions}
                                onchange={handleStatus}>
                            </lightning-combobox>                      
                        </div> -->
                    </div>
                    <div class="slds-col slds-grid slds-x-small-size_12-of-12 slds-medium-size_3-of-12 slds-large-size_3-of-12 mobilebtnpadding">
                        <!-- <div class="btnclass">
                            <lightning-combobox variant = "label-hidden" value={value} placeholder="Sort By" options={options} onchange={handleDate}>
                            </lightning-combobox>
                        </div> -->
                        <div class="btnclass">
                            <lightning-combobox variant= "label-hidden" value={statusvalue} placeholder="Filter By Status" options={statusoptions}
                                onchange={handleStatus}>
                            </lightning-combobox>                      
                        </div>
                    </div>
                </div>
                <template if:true={isSpinner}>
                    <div class="slds-is-relative">
                        <lightning-spinner class="" alternative-text="Loading" size="medium" variant="brand">
                        </lightning-spinner>
                    </div>
                </template>
                <div class="slds-grid slds-wrap tablepadding" style="overflow-x: auto;">
                    <div class="slds-col slds-size_12-of-12">
                        <template if:false={isMobile}>
                            <table class="slds-table_fixed-layout slds-table_resizable-cols">
                                <thead class="headerBodyCSS componentNotoSansBold" style="font-size: 14px;">
                                    <tr>
                                        <th class=" tableheadercss" scope="col">
                                            <div class="slds-truncate slds-p-left_small" title="Case Number">Case Number</div>
                                        </th>
        
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Subject">Subject</div>
                                        </th>
                                        <!-- <th class="" scope="col">
                                            <div class="slds-truncate" title="Some Custom Column">Priority</div>
                                        </th> -->
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Status">Status</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Owner">Created by</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Date Created">Date Created</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Date Created">Date Closed</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Updated On">Updated On</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Updated On">Case Type</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template for:each={casedetails} for:item="caseobj">
                                        <tr key={caseobj.Id} class="slds-border_bottom componentNotoSansRegular shadoweffect bgcolormobile">
                                            <td class="slds-p-left_small tabledatacss">
                                                <div class="textoverflowcls">
                                                    <a data-id={caseobj.Id} onclick={navigateToRecordView} href={detailPageLink}
                                                        style="color: #F47920;" target="_blank">
                                                        {caseobj.casenumber}
                                                    </a>
                                                </div>
                                            </td>
                                            <td class="tabledatacss" scope="col" title={caseobj.subject}>
                                                <div class="textoverflowcls">{caseobj.subject}</div>
                                            </td>
                                            <!-- <td style="height: 40px" scope="col">
                                                <div style="background-color: #FAEBD7; text-align: center;">{caseobj.priority}</div>
                                            </td> -->
                                            <td class="tabledatacss" scope="col" title={caseobj.status}>
                                                <div class="textoverflowcls">{caseobj.status}</div>
                                            </td>
                                            <td class="tabledatacss" scope="col" title={caseobj.ownername}>
                                                <div class="textoverflowcls">{caseobj.ownername}</div>
                                            </td>
                                            <td class="tabledatacss">
                                                <div class="textoverflowcls">
                                                    <!-- <lightning-formatted-date-time value={caseobj.createddate} year="numeric" month="long" day="2-digit">
                                                    </lightning-formatted-date-time>    -->
                                                    {caseobj.createddate}
                                                </div>
                                            </td>
                                            <td class="tabledatacss">
                                                <div class="textoverflowcls">
                                                    <!-- <lightning-formatted-date-time value={caseobj.createddate} year="numeric" month="long" day="2-digit">
                                                    </lightning-formatted-date-time>    -->
                                                    {caseobj.closeDate}
                                                </div>
                                            </td>
                                            <td class="tabledatacss">
                                                <div class="textoverflowcls">
                                                    <!-- <lightning-formatted-date-time value={caseobj.lastmodifieddate} year="numeric" month="long" day="2-digit">
                                                    </lightning-formatted-date-time>  -->
                                                    {caseobj.lastmodifieddate}
                                                </div>
                                            </td>
                                            <td class="tabledatacss"  title={caseobj.casetype}>
                                                <div class="textoverflowcls">
        
                                                    {caseobj.casetype}
                                                </div>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </template>
                       
                        <div if:true={nodata}>
                            <p class="slds-text-align_center nodatacss" style="background-color: white;">No Cases To Display
                            </p>
                        </div>
                        <template if:false={nodata}>
                            <div class="download-div">
                                <span class="componentNotoSansBold slds-m-right_medium">
                                    <a href={caseStatementURL} download="Case_Statement.pdf" target="_blank" onclick={accPDF}><button
                                        class="dwnld-btn"><span class="download-icon"><img src={downloadIcon} 
                                        style="height:15px; width:15px;"/></span><span>Download
                                            PDF</span></button></a>
                                </span>
                                <span class="componentNotoSansBold">
                                    <a href={caseStatementExcelURL} download="Case_Statement.xls" target="_blank" onclick={accPDF}><button
                                            class="dwnld-btn"><span class="download-icon"><img src={downloadIcon}
                                                    style="height:15px; width:15px;" /></span><span>Download XLS</span></button></a>
                                </span>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
            <div class="noteclass componentNotoSansBold"><b>*Note:- The items listed on the page pertain to the last fiscal year and the current fiscal year only.</b>
            </div>
        </div>
        <lightning-layout-item size="12" padding="around-small">
            <div class="slds-align_absolute-center ">
                <lightning-button variant="base" label="First" disabled={disableFirst} onclick={handleFirst}
                    class="slds-m-left_x-small"></lightning-button>
                <lightning-button variant="base" label="Pre" disabled={disableFirst} onclick={handlePrevious}
                    class="slds-m-left_x-small slds-m-right_x-small"></lightning-button>
                <template for:each={pagelist} for:item="item" for:index="index">
                    <span class="themeborder testcss slds-m-left_xx-small slds-m-right_xx-small slds-p-horizontal_x-small"
                        key={item} data-id={item}>
                        <a class="testcss" onclick={processMe} name={item} data-id={item}>{item}</a>
                    </span>
                </template>
                <lightning-button variant="base" label="Next" disabled={disableNext} onclick={handleNext}
                    class="slds-m-left_x-small"></lightning-button>
                <lightning-button variant="base" label="Last" disabled={disableNext} onclick={handleLast}
                    class="slds-m-left_x-small"></lightning-button>
            </div>
        </lightning-layout-item>
    </template>
    <!-- ********************For Brazil Case List *******************-->
    <!-- ********************For Brazil Case List *******************-->
    <template if:true={isBr}>
        <c-grz_header-image-cmp bgimg={backgroundimage} imglabel={CaseLabel} customcss='top: 9%;'></c-grz_header-image-cmp>
        <div class="slds-p-top_small">
            <c-grz_bread-crumb labelone={CaseLabel} linkone=''>
            </c-grz_bread-crumb>
        </div>
        <div class="slds-grid slds-wrap div1padding componentNotoSansBold">
            <div class="slds-col slds-size_4-of-12">
                <b class="textCls br-textCls">Meus Atendimentos</b>
            </div>
            <div class="slds-col slds-size_8-of-12">
                <a class="" onclick={handleButtonClick} href={caseCreatePageLink} target="_blank">
                    <button class="slds-button slds-button_neutral slds-float_right blueBtn">Novo Atendimento</button>
                </a>
            </div>
        </div>
        <div>
            <div class="slds-border_right slds-m-bottom_medium slds-border_left slds-border_bottom slds-border_top slds-medium-size--6-of-6 slds-small-size--6-of-6 maindivcss" style="padding:0; background-color:white;">
                <!--<div class="slds-grid slds-wrap slds-p-top_xx-small slds-p-bottom_xx-small">
                    <div class="slds-col slds-grid slds-p-top_large slds-p-bottom_x-small slds-x-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_3-of-12">
                        <span style="width: 230px; max-width: 250px; min-width: 150px;">
                            <span>
                                <lightning-input variant="label-hidden" onkeypress={handleKeyChange}
                                    class="slds-col slds-m-bottom_small" placeholder="Pesquisar Atendimento..."
                                    value={searchKey}>
                                </lightning-input>
                            </span>
                            <span if:true={searchKey}
                                style="margin-top: -38px; margin-left: 209px; z-index: 1; cursor: pointer; position: absolute;">
                                <lightning-icon size="x-small" icon-name="utility:close" onclick={clearClick}>
                                </lightning-icon>
                            </span>
                        </span>
                        <div class="slds-col slds-p-left_x-small">
                            <button class="slds-button slds-button_brand slds-button_icon slds-button_icon-border-filled "
                                onclick={buttonClick}>
                                <lightning-icon icon-name="utility:search" size="x-small" class=""></lightning-icon>
                            </button>
                        </div>
                    </div>
                    <div class="slds-col slds-grid slds-p-bottom_x-small slds-x-small-size_12-of-12 slds-medium-size_4-of-12 slds-large-size_5-of-12">
                        <div class="slds-p-left_small mobile-font-date date-width">
                            <lightning-input  placeholder="Data de início" label="Data de início" type="date" value={startDate} min={fiscalyearStartDate} max={fiscalyearEndDate} onchange={startDateChange}></lightning-input>
                        </div>
                        <div class="slds-p-left_small mobile-font-date date-width">
                            <lightning-input  placeholder="Data final" label="Data final" type="date" value={endDate} min={fiscalyearStartDate} max={fiscalyearEndDate} onchange={endDateChange}></lightning-input>
                        </div>
                    </div>
                    <div class="slds-col slds-grid slds-x-small-size_12-of-12 slds-p-bottom_x-small slds-medium-size_4-of-12 slds-large-size_2-of-12">
                        <div class="btnclass btn-br">
                            <lightning-combobox label = "Classificar por data de criação" value={value} placeholder="Sort By" options={optionsBr} onchange={handleDate}>
                            </lightning-combobox>
                        </div>
                    </div>
                    <div class="slds-col slds-grid slds-x-small-size_12-of-12 slds-p-bottom_x-small slds-medium-size_2-of-12 slds-large-size_2-of-12 mobilebtnpadding">
                        <div class="btnclass btn-br">
                            <lightning-combobox label ="Status" value={statusvalue} placeholder="Filter By Status" options={statusoptionsBr}
                                onchange={handleStatus}>
                            </lightning-combobox>                      
                        </div>
                    </div>
                </div>-->
                <!-- cases Filters -->
            <div class="filter-section slds-m-right_small">
                <div class="left-filter">
                    <div class="search-filter">
                        <div class="search-box">
                            <lightning-input variant="label-hidden" 
                                            onkeypress={handleKeyChange}
                                            class="slds-col slds-m-bottom_small slds-m-left_small mrg-tp" 
                                            placeholder="Pesquisar..." 
                                            value={searchKey}>
                            </lightning-input>
                            <span if:true={searchKey} class="close-icon" >
                                <lightning-icon size="x-small" 
                                                icon-name="utility:close" 
                                                onclick={clearClick}>
                                </lightning-icon>
                            </span>
                        </div> 
                        <div class="slds-p-left_x-small search-btn mrg-tp">
                            <button onclick={buttonClick} class="slds-button slds-button_brand slds-button_icon slds-button_icon-border-filled ">
                                <lightning-icon icon-name="utility:search" size="x-small" class="" ></lightning-icon>
                            </button>
                        </div>
                    </div>
                    <div class="year-filter">
                        <div class="slds-p-left_small mobile-font-date date-width pad-l">
                            <lightning-input  placeholder="Data de início" label="Data de início" type="date" value={startDate} min={fiscalyearStartDate} max={fiscalyearEndDate} onchange={startDateChange} date-style="short"></lightning-input>
                        </div>
                        <div class="slds-p-left_small mobile-font-date date-width">
                            <lightning-input  placeholder="Data final" label="Data final" type="date" value={endDate} min={fiscalyearStartDate} max={fiscalyearEndDate} onchange={endDateChange} date-style="short"></lightning-input>
                        </div>
                    </div>
                </div>
                <div class = "right-filter">
                    <div class="date-filter">
                        <lightning-combobox 
                                            label = "Classificar por data de criação" 
                                            value={value} 
                                            placeholder="Sort By" 
                                            options={optionsBr} 
                                            onchange={handleDate}>
                        </lightning-combobox>
                    </div>
                    <div class="type-filter">
                        <lightning-combobox 
                                        label ="Status" 
                                        value={statusvalue} 
                                        placeholder="Filter By Status" 
                                        options={statusoptionsBr}
                                        onchange={handleStatus}>
                        </lightning-combobox> 
                    </div>
                </div>
            </div>
            <div class="slds-grid slds-wrap">
                <!--GRZ(Nikhil Verma) : APPS-1394 PO & Delivery Date :28-07-2022-->
                <template if:true={isParentBr}>
                    <div class="slds-col slds-p-left_small slds-p-right_small  slds-large-size_6-of-12 slds-x-small-size_12-of-12 slds-medium-size_12-of-12">
                        <lightning-combobox 
                                label ="Cliente" 
                                value={distributorValue} 
                                placeholder="Cliente" 
                                options={distributorOptionsBr}
                                onchange={handleDistributor}>
                        </lightning-combobox> 
                    </div>
                </template>
                <template if:true={isMainParent}>
                    <div class="slds-col slds-p-left_small slds-p-right_small  slds-large-size_6-of-12 slds-x-small-size_12-of-12 slds-medium-size_12-of-12">
                        <lightning-combobox 
                                            label ="Sub-Grupo"
                                            value={subDistributor}
                                            placeholder="Sub-Grupo"
                                            options={subGroupOption}
                                            onchange={handleSubGroup}>
                        </lightning-combobox>  
                    </div>
                </template>
            </div>
            
            <div if:false={isSpinner}>
                <div class="slds-grid slds-wrap tablepadding slds-p-left_small slds-p-right_small" style="overflow-x: auto; margin-top:2%">
                    <div class="slds-col slds-size_12-of-12">
                        <table class="slds-table_fixed-layout slds-table_resizable-cols">
                            <thead class="headerBodyCSS componentNotoSansBold" style="font-size: 14px;">
                                <tr>
                                    <th class=" tableheadercss" scope="col">
                                        <div class="slds-truncate slds-p-left_small" title="Ticket">Atendimento</div>
                                    </th>
    
                                    <th class="tableheadercss" scope="col">
                                        <div class="slds-truncate" title="Assunto">Assunto</div>
                                    </th>
                                    <!-- <th class="" scope="col">
                                        <div class="slds-truncate" title="Some Custom Column">Priority</div>
                                    </th> -->
                                    <th class="tableheadercss" scope="col">
                                        <div class="slds-truncate" title="Status">Status</div>
                                    </th>
                                    <th class="tableheadercss" scope="col">
                                        <div class="slds-truncate" title="Proprietário">Analista</div>
                                    </th>
                                    <th class="tableheadercss" scope="col">
                                        <div class="slds-truncate" title="Data de Criação">Data de Criação</div>
                                    </th>
                                    <th class="tableheadercss" scope="col">
                                        <div class="slds-truncate" title="Última Atualização">Última Atualização</div>
                                    </th>
                                    <th class="tableheadercss" scope="col">
                                        <div class="slds-truncate" title="Tipo do Ticket">Tipo do Atendimento</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <template for:each={casedetails} for:item="caseobj">
                                    <!--GRZ(Swaranjeet) : APPS-947 PO & Delivery Date :30-08-2022-->
                                    <tr key={caseobj.Id} class="slds-border_bottom componentNotoSansRegular bgcolormobile shadoweffect">
                                        <td class="slds-p-left_small tabledatacss br-mobile-view">
                                            <div class="textoverflowcls">
                                                <a data-id={caseobj.Id} onclick={navigateToRecordView} href={detailPageLink}
                                                    style="color: #F47920;" target="_blank">
                                                    {caseobj.casenumber}
                                                </a>
                                            </div>
                                        </td>
                                        <td class="tabledatacss br-mobile-view" scope="col" title={caseobj.subject}>
                                            <div class="textoverflowcls">{caseobj.subject}</div>
                                        </td>
                                        <!-- <td style="height: 40px" scope="col">
                                            <div style="background-color: #FAEBD7; text-align: center;">{caseobj.priority}</div>
                                        </td> -->
                                        <td class="tabledatacss br-mobile-view" scope="col" title={caseobj.status}>
                                            <div class="textoverflowcls">{caseobj.status}</div>
                                        </td>
                                        <td class="tabledatacss br-mobile-view" scope="col" title={caseobj.ownername}>
                                            <div class="textoverflowcls">{caseobj.ownername}</div>
                                        </td>
                                        <td class="tabledatacss br-mobile-view">
                                            <div class="textoverflowcls">
                                                <!-- <lightning-formatted-date-time value={caseobj.createddate} year="numeric" month="long" day="2-digit">
                                                </lightning-formatted-date-time>    -->
                                                {caseobj.createddate}
                                            </div>
                                        </td>
                                        <td class="tabledatacss br-mobile-view">
                                            <div class="textoverflowcls">
                                                <!-- <lightning-formatted-date-time value={caseobj.lastmodifieddate} year="numeric" month="long" day="2-digit">
                                                </lightning-formatted-date-time>  -->
                                                {caseobj.lastmodifieddate}
                                            </div>
                                        </td>
                                        <td class="tabledatacss br-mobile-view"  title={caseobj.casetype}>
                                            <div class="textoverflowcls">
                                                {caseobj.casetype}
                                            </div>
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                </div>
                    <!-- No Data Error -->
                    <div if:true={nodata}>
                        <!--GRZ(Nikhil Verma) : APPS-1394 PO & Delivery Date :28-07-2022-->
                        <p class="slds-text-align_center nodatacss" style="background-color: white;margin-top: 5%;">Sem Ingressos para exibir
                        </p>
                    </div>
                    <template if:false={nodata}>
                        <div class="download-div">
                            <span class="componentNotoSansBold slds-m-right_medium">
                                <a href={CasepdfURL} download="Atendimentos.pdf" target="_blank" onclick={CaseListPDF}><button
                                        class="dwnld-btn"><span class="download-icon"><img src={downloadIcon}
                                                style="height:15px; width:15px;" /></span><span>Download PDF</span></button></a>
                            </span>
                            <span class="componentNotoSansBold">
                                <a href={CasexlsURL} download="Atendimentos.xls" target="_blank" onclick={CaseListXLS}><button
                                        class="dwnld-btn"><span class="download-icon"><img src={downloadIcon}
                                                style="height:15px; width:15px;" /></span><span>Download XLS</span></button></a>
                            </span>
                        </div>
                        <div class="alert-msg slds-p-left_small slds-p-bottom_small">Os dados constantes acima são meras referências e estão sujeitos à confirmação e/ou alteração pela UPL.</div>
                    </template>
            </div>
            <div if:true={isSpinner} class="slds-is-relative" style="z-index: 5;">
                <lightning-spinner alternative-text="Loading..." variant="brand" class="spinner-css"></lightning-spinner>
            </div>
                
            </div>
            <!--<div class="noteclass componentNotoSansBold"><b>*Note:- The items listed on the page pertain to the last fiscal year and the current fiscal year only.</b>
            </div>-->
        </div>
        <!-- Pagination Values -->
        <lightning-layout-item size="12" padding="around-small">
            <div class="slds-align_absolute-center mob-font-pageination">
                <lightning-button variant="base" 
                                    label="Primeira" 
                                    disabled={disableFirst} 
                                    onclick={handleFirst}
                                    class="slds-m-left_x-small">
                </lightning-button>
                <lightning-button variant="base" 
                                  label="Anterior" 
                                  disabled={disableFirst} 
                                  onclick={handlePrevious}
                                  class="slds-m-left_x-small slds-m-right_x-small">
                </lightning-button>
                <template for:each={pagelist} for:item="item" for:index="index">
                    <span key={item} data-id={item} class="themeborder testcss slds-m-left_xx-small slds-m-right_xx-small slds-p-horizontal_x-small">
                        <a class="testcss" onclick={processMe} name={item} data-id={item}>{item}</a>
                    </span>
                </template>
                <lightning-button variant="base" 
                                  label="Próxima" 
                                  disabled={disableNext} 
                                  onclick={handleNext}
                                  class="slds-m-left_x-small">
                </lightning-button>
                <lightning-button variant="base" 
                                  label="Última" 
                                  disabled={disableNext} 
                                  onclick={handleLast}
                                  class="slds-m-left_x-small">
                </lightning-button>
            </div>
        </lightning-layout-item>
    </template>


<!--Mexico Case List Page -->


    <template if:true={isMexico}>
        <c-grz_header-image-cmp bgimg={backgroundimage} imglabel={CaseLabel} customcss='top: 9%;'></c-grz_header-image-cmp>
        <div class="slds-p-top_small">
            <c-grz_bread-crumb labelone={CaseLabel} linkone=''>
            </c-grz_bread-crumb>
        </div>
        <div class="slds-grid slds-wrap div1padding componentNotoSansBold">
            <div class="slds-col slds-x-small-size_6-of-12 slds-medium-size_6-of-12 slds-large-size_4-of-12">
                <b class="textCls br-textCls">Mis Casos</b>
            </div>
            <div class="slds-col slds-x-small-size_6-of-12 slds-medium-size_6-of-12 slds-large-size_8-of-12">
                <a class="" onclick={handleButtonClick} href={caseCreatePageLink} target="_blank">
                    <button class="slds-button slds-button_neutral slds-float_right blueBtn">Nuevo Caso</button>
                </a>
            </div>
        </div>
        <div>
            <div class="slds-border_right slds-border_left slds-border_bottom slds-border_top slds-medium-size--6-of-6 slds-small-size--6-of-6 maindivcss" style="padding:0; background-color:white;">

                <!-- cases Filters -->
            <div class="filter-section slds-m-right_small slds-m-bottom_small">
                <div class="left-filter">
                    <div class="search-filter">
                        <div class="search-box">
                            <lightning-input variant="label-hidden" 
                                            onkeypress={handleKeyChange}
                                            class="slds-col slds-m-bottom_small slds-m-left_small mrg-tp" 
                                            placeholder="Número de caso..." 
                                            value={searchKey}>
                            </lightning-input>
                            <span if:true={searchKey} class="close-icon" >
                                <lightning-icon size="x-small" 
                                                icon-name="utility:close" 
                                                onclick={clearClick}>
                                </lightning-icon>
                            </span>
                        </div> 
                        <div class="slds-p-left_x-small search-btn mrg-tp">
                            <button onclick={buttonClick} class="slds-button slds-button_brand slds-button_icon slds-button_icon-border-filled ">
                                <lightning-icon icon-name="utility:search" size="x-small" class="" ></lightning-icon>
                            </button>
                        </div>
                    </div>
                    <div class="year-filter">
                        <div class="slds-p-left_small mobile-font-date date-width pad-l">
                            <lightning-input  placeholder="Fecha de inicio" label="Fecha de inicio" type="date" value={startDate} min={fiscalyearStartDate} max={fiscalyearEndDate} onchange={startDateChange}></lightning-input>
                        </div>
                        <div class="slds-p-left_small mobile-font-date date-width">
                            <lightning-input  placeholder="Fecha final" label="Fecha final" type="date" value={endDate} min={fiscalyearStartDate} max={fiscalyearEndDate} onchange={endDateChange}></lightning-input>
                        </div>
                    </div>
                </div>
                <div class = "right-filter">
                    <div class="date-filter">
                        <lightning-combobox 
                                            label = "Ordenar por Fecha" 
                                            value={value} 
                                            placeholder="Sort By" 
                                            options={optionsMx} 
                                            onchange={handleDate}>
                        </lightning-combobox>
                    </div>
                    <div class="type-filter">
                        <lightning-combobox 
                                        label ="Ordenar por Estado" 
                                        value={statusvalue} 
                                        placeholder="Filter By Status" 
                                        options={statusoptionsMx}
                                        onchange={handleStatus}>
                        </lightning-combobox> 
                    </div>
                </div>
            </div>
            <template if:true={isParentBr}>
                <div class="parent-filter slds-p-left_small">
                    <lightning-combobox 
                            label ="Cliente" 
                            value={distributorValue} 
                            placeholder="Cliente" 
                            options={distributorOptionsBr}
                            onchange={handleDistributor}>
                    </lightning-combobox> 
                </div>
            </template>
            <div if:false={isSpinner}>
                <template if:false={isMobile}>
                    <div class="slds-grid slds-wrap tablepadding slds-p-left_small slds-p-right_small" style="overflow-x: auto;">
                        <div class="slds-col slds-size_12-of-12">
                            <table class="slds-table_fixed-layout slds-table_resizable-cols">
                                <thead class="headerBodyCSS componentNotoSansBold" style="font-size: 14px;">
                                    <tr>
                                        <th class=" tableheadercss" scope="col">
                                            <div class="slds-truncate slds-p-left_small" title={CaseNumber}>{CaseNumber}</div>
                                        </th>
        
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title={CaseSubject}>{CaseSubject}</div>
                                        </th>
                                        <!-- <th class="" scope="col">
                                            <div class="slds-truncate" title="Some Custom Column">Priority</div>
                                        </th> -->
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Estado">Estado</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title={CaseOwner}>{CaseOwner}</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title={CreateDate}>{CreateDate}</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title="Última actualización">Última actualización</div>
                                        </th>
                                        <th class="tableheadercss" scope="col">
                                            <div class="slds-truncate" title={CaseType}>{CaseType}</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template for:each={casedetails} for:item="caseobj">
                                        <tr key={caseobj.Id} class="slds-border_bottom componentNotoSansRegular bgcolormobile">
                                            <td class="slds-p-left_small tabledatacss mx-mobile-view">
                                                <div class="textoverflowcls">
                                                    <a data-id={caseobj.Id} onclick={navigateToRecordView} href={detailPageLink}
                                                        style="color: #F47920;" target="_blank">
                                                        {caseobj.casenumber}
                                                    </a>
                                                </div>
                                            </td>
                                            <td class="tabledatacss mx-mobile-view" scope="col" title={caseobj.subject}>
                                                <div class="textoverflowcls">{caseobj.subject}</div>
                                            </td>
                                            <!-- <td style="height: 40px" scope="col">
                                                <div style="background-color: #FAEBD7; text-align: center;">{caseobj.priority}</div>
                                            </td> -->
                                            <td class="tabledatacss mx-mobile-view" scope="col" title={caseobj.status}>
                                                <div class="textoverflowcls">{caseobj.status}</div>
                                            </td>
                                            <td class="tabledatacss mx-mobile-view" scope="col" title={caseobj.ownername}>
                                                <div class="textoverflowcls">{caseobj.ownername}</div>
                                            </td>
                                            <td class="tabledatacss mx-mobile-view">
                                                <div class="textoverflowcls">
                                                    <!-- <lightning-formatted-date-time value={caseobj.createddate} year="numeric" month="long" day="2-digit">
                                                    </lightning-formatted-date-time>    -->
                                                    {caseobj.createddate}
                                                </div>
                                            </td>
                                            <td class="tabledatacss mx-mobile-view">
                                                <div class="textoverflowcls">
                                                    <!-- <lightning-formatted-date-time value={caseobj.lastmodifieddate} year="numeric" month="long" day="2-digit">
                                                    </lightning-formatted-date-time>  -->
                                                    {caseobj.lastmodifieddate}
                                                </div>
                                            </td>
                                            <td class="tabledatacss mx-mobile-view"  title={caseobj.casetype}>
                                                <div class="textoverflowcls">
                                                    {caseobj.casetype}
                                                </div>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </template>
              
                <template if:true={isMobile}>
                    <template if:true={casedetails}>
                        <c-responsive-card country={country} table-data={casedetails} columns={colLabels} onshow={navigateToRecordView}></c-responsive-card>
                    </template>
                </template>
               
                    <!-- No Data Error -->
                    <div if:true={nodata}>
                        <p class="slds-text-align_center nodatacss" style="background-color: white;margin-top: 5%;">No hay casos para mostrar
                        </p>
                    </div>
                    <template if:false={nodata}>
                        <div class="download-div">
                            <span class="componentNotoSansBold slds-m-right_medium">
                                <a href={MexicoCasePDF} download="Caso.pdf" target="_blank" onclick={CaseListPDF}>
                                    <button class="dwnld-btn"><span class="download-icon"><img src={downloadIcon} style="height:15px; width:15px;" /></span>
                                        <span>{DownloadPDF}</span>
                                    </button>
                                </a>
                            </span>
                            <span class="componentNotoSansBold">
                                <a href={MexicoCaseXLS} download="Caso.xls" target="_blank" onclick={CaseListXLS}>
                                    <button class="dwnld-btn"><span class="download-icon"><img src={downloadIcon} style="height:15px; width:15px;" /></span>
                                        <span>{DownloadXLS}</span>
                                    </button>
                                </a>
                            </span>
                        </div>
                    </template>
            </div>
            <div if:true={isSpinner} class="slds-is-relative" style="z-index: 5;">
                <lightning-spinner alternative-text="Loading..." variant="brand" class="spinner-css"></lightning-spinner>
            </div>
                
            </div>
            <!--<div class="noteclass componentNotoSansBold"><b>*Note:- The items listed on the page pertain to the last fiscal year and the current fiscal year only.</b>
            </div>-->
        </div>
        <!-- Pagination Values -->
        <lightning-layout-item size="12" padding="around-small">
            <div class="slds-align_absolute-center mob-font-pageination">
                <lightning-button variant="base" 
                                    label="Primera" 
                                    disabled={disableFirst} 
                                    onclick={handleFirst}
                                    class="slds-m-left_x-small">
                </lightning-button>
                <lightning-button variant="base" 
                                  label="Previa" 
                                  disabled={disableFirst} 
                                  onclick={handlePrevious}
                                  class="slds-m-left_x-small slds-m-right_x-small">
                </lightning-button>
                <template for:each={pagelist} for:item="item" for:index="index">
                    <span key={item} data-id={item} class="themeborder testcss slds-m-left_xx-small slds-m-right_xx-small slds-p-horizontal_x-small">
                        <a class="testcss" onclick={processMe} name={item} data-id={item}>{item}</a>
                    </span>
                </template>
                <lightning-button variant="base" 
                                  label="Siguiente" 
                                  disabled={disableNext} 
                                  onclick={handleNext}
                                  class="slds-m-left_x-small">
                </lightning-button>
                <lightning-button variant="base" 
                                  label="Última" 
                                  disabled={disableNext} 
                                  onclick={handleLast}
                                  class="slds-m-left_x-small">
                </lightning-button>
            </div>
        </lightning-layout-item>
    </template>
</template>